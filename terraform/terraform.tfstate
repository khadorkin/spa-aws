{
    "version": 1,
    "serial": 25,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_dynamodb_table.problems": {
                    "type": "aws_dynamodb_table",
                    "primary": {
                        "id": "problems",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:655508188333:table/problems",
                            "attribute.#": "2",
                            "attribute.47822141.name": "problemId",
                            "attribute.47822141.type": "N",
                            "attribute.90934062.name": "userId",
                            "attribute.90934062.type": "S",
                            "global_secondary_index.#": "0",
                            "hash_key": "userId",
                            "id": "problems",
                            "name": "problems",
                            "range_key": "problemId",
                            "read_capacity": "5",
                            "write_capacity": "5"
                        }
                    }
                },
                "aws_iam_role.cognito_role": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "template_file.generated_role_policy",
                        "template_file.generated_role_policy"
                    ],
                    "primary": {
                        "id": "id_pool1_cognito_role",
                        "attributes": {
                            "arn": "arn:aws:iam::655508188333:role/id_pool1_cognito_role",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Federated\": \"cognito-identity.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRoleWithWebIdentity\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"cognito-identity.amazonaws.com:aud\": \"us-east-1:64bf0f61-7d6b-446e-9481-e1b7c10b10f9\"\n        },\n        \"ForAnyValue:StringLike\": {\n          \"cognito-identity.amazonaws.com:amr\": \"authenticated\"\n        }\n      }\n    }\n  ]\n}\n",
                            "id": "id_pool1_cognito_role",
                            "name": "id_pool1_cognito_role",
                            "path": "/",
                            "unique_id": "AROAIO3KFRI5B7W3DYMWO"
                        }
                    }
                },
                "aws_iam_role.iam_role_for_lambda": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "iam_role_for_lambda",
                        "attributes": {
                            "arn": "arn:aws:iam::655508188333:role/iam_role_for_lambda",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n",
                            "id": "iam_role_for_lambda",
                            "name": "iam_role_for_lambda",
                            "path": "/",
                            "unique_id": "AROAJ7A5XTYDZWCSE3LIY"
                        }
                    }
                },
                "aws_iam_role_policy.dynamodb_access_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_dynamodb_table.problems",
                        "aws_iam_role.cognito_role",
                        "aws_iam_role.cognito_role"
                    ],
                    "primary": {
                        "id": "id_pool1_cognito_role:dynamodb_access_policy",
                        "attributes": {
                            "id": "id_pool1_cognito_role:dynamodb_access_policy",
                            "name": "dynamodb_access_policy",
                            "policy": "{\r\n  \"Version\": \"2012-10-17\",\r\n  \"Statement\": [{ \r\n      \"Effect\": \"Allow\",\r\n      \"Action\": [\r\n        \"dynamodb:BatchGetItem\",\r\n        \"dynamodb:BatchWriteItem\",\r\n        \"dynamodb:DeleteItem\",\r\n        \"dynamodb:GetItem\",\r\n        \"dynamodb:PutItem\",\r\n        \"dynamodb:Query\",\r\n        \"dynamodb:UpdateItem\"\r\n      ],\r\n      \"Resource\": [\"arn:aws:dynamodb:us-east-1:655508188333:table/problems\"],\r\n      \"Condition\": {\r\n        \"ForAllValues:StringEquals\": {\r\n          \"dynamodb:LeadingKeys\": [\"${cognito-identity.amazonaws.com:sub}\"]\r\n        }\r\n      }\r\n  }]\r\n}\r\n",
                            "role": "id_pool1_cognito_role"
                        }
                    }
                },
                "aws_iam_role_policy.iam_policy_for_lambda": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_dynamodb_table.problems",
                        "aws_iam_role.iam_role_for_lambda",
                        "aws_iam_role.iam_role_for_lambda"
                    ],
                    "primary": {
                        "id": "iam_role_for_lambda:iam_policy_for_lambda",
                        "attributes": {
                            "id": "iam_role_for_lambda:iam_policy_for_lambda",
                            "name": "iam_policy_for_lambda",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"Stmt1428341300017\",\n            \"Action\": [\n                \"dynamodb:DeleteItem\",\n                \"dynamodb:GetItem\",\n                \"dynamodb:PutItem\",\n                \"dynamodb:Query\",\n                \"dynamodb:Scan\",\n                \"dynamodb:UpdateItem\"\n            ],\n            \"Effect\": \"Allow\",\n            \"Resource\": \"arn:aws:dynamodb:us-east-1:655508188333:table/problems\"\n        },\n        {\n            \"Sid\": \"\",\n            \"Resource\": \"*\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:PutLogEvents\"\n            ],\n            \"Effect\": \"Allow\"\n        }\n    ]\n}\n",
                            "role": "iam_role_for_lambda"
                        }
                    }
                },
                "null_resource.config": {
                    "type": "null_resource",
                    "depends_on": [
                        "template_file.config",
                        "template_file.config"
                    ],
                    "primary": {
                        "id": "5179650068832549677",
                        "attributes": {
                            "id": "5179650068832549677"
                        }
                    }
                },
                "null_resource.create_identity_pool": {
                    "type": "null_resource",
                    "primary": {
                        "id": "3113019670626226826",
                        "attributes": {
                            "id": "3113019670626226826"
                        }
                    }
                },
                "null_resource.update_identity_pool_role": {
                    "type": "null_resource",
                    "depends_on": [
                        "aws_iam_role.cognito_role",
                        "aws_iam_role.cognito_role"
                    ],
                    "primary": {
                        "id": "4985117374178281994",
                        "attributes": {
                            "id": "4985117374178281994"
                        }
                    }
                },
                "template_file.config": {
                    "type": "template_file",
                    "depends_on": [
                        "null_resource.update_identity_pool_role"
                    ],
                    "primary": {
                        "id": "8eed1f81d51e54a0f22b73c7f2e236096dc67776aa61fc41cbe4197f8265e14b",
                        "attributes": {
                            "id": "8eed1f81d51e54a0f22b73c7f2e236096dc67776aa61fc41cbe4197f8265e14b",
                            "rendered": "cognito = {\n    'poolId': '#poolId'\n}",
                            "template": "cognito = {\n    'poolId': '#poolId'\n}"
                        }
                    }
                },
                "template_file.generated_project_config": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_iam_role.iam_role_for_lambda",
                        "aws_iam_role.iam_role_for_lambda"
                    ],
                    "primary": {
                        "id": "2d5675cac1ea63fa94ff882b0eb637312d2187e2e4917006c51d7847eed920df",
                        "attributes": {
                            "id": "2d5675cac1ea63fa94ff882b0eb637312d2187e2e4917006c51d7847eed920df",
                            "rendered": "{\r\n  \\\"name\\\": \\\"spa\\\",\r\n  \\\"description\\\": \\\"Simple Page Application with AWS\\\",\r\n  \\\"role\\\": \\\"arn:aws:iam::655508188333:role/iam_role_for_lambda\\\",\r\n  \\\"memory\\\": 128,\r\n  \\\"region\\\": \\\"us-east-1\\\"\r\n}",
                            "template": "{\r\n  \\\"name\\\": \\\"spa\\\",\r\n  \\\"description\\\": \\\"Simple Page Application with AWS\\\",\r\n  \\\"role\\\": \\\"${iam_role}\\\",\r\n  \\\"memory\\\": 128,\r\n  \\\"region\\\": \\\"${aws_region}\\\"\r\n}",
                            "vars.#": "2",
                            "vars.aws_region": "us-east-1",
                            "vars.iam_role": "arn:aws:iam::655508188333:role/iam_role_for_lambda"
                        }
                    }
                },
                "template_file.generated_role_policy": {
                    "type": "template_file",
                    "depends_on": [
                        "null_resource.create_identity_pool"
                    ],
                    "primary": {
                        "id": "fcb0c6e4943f6ed9f98398bb86172e958849bac446455429a5507d85f30cf03c",
                        "attributes": {
                            "id": "fcb0c6e4943f6ed9f98398bb86172e958849bac446455429a5507d85f30cf03c",
                            "rendered": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Federated\": \"cognito-identity.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRoleWithWebIdentity\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"cognito-identity.amazonaws.com:aud\": \"us-east-1:64bf0f61-7d6b-446e-9481-e1b7c10b10f9\"\n        },\n        \"ForAnyValue:StringLike\": {\n          \"cognito-identity.amazonaws.com:amr\": \"authenticated\"\n        }\n      }\n    }\n  ]\n}\n",
                            "template": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Federated\": \"cognito-identity.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRoleWithWebIdentity\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"cognito-identity.amazonaws.com:aud\": \"us-east-1:64bf0f61-7d6b-446e-9481-e1b7c10b10f9\"\n        },\n        \"ForAnyValue:StringLike\": {\n          \"cognito-identity.amazonaws.com:amr\": \"authenticated\"\n        }\n      }\n    }\n  ]\n}\n"
                        }
                    }
                }
            }
        }
    ]
}
